<html>
  <head>
    <title>Leap JavaScript Sample</title>
    <script src="../leapjs-master/leap-0.4.3.js"></script>
    <!--script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="../leapjs-master/lib/gesture.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script? !-->
    <style type = text/css>
    body {
      font: 10px sans-serif;
      background-color: #FEFEFE;
    }
     </style>
    <script>

function vectorToString(vector, digits) {
  if (typeof digits === "undefined") {
    digits = 1;
  }
  return "(" + vector[0].toFixed(digits) + ", "
             + vector[1].toFixed(digits) + ", "
             + vector[2].toFixed(digits) + ")";
}
    
    var previousFrame = null;
    var paused = false;
    var pauseOnGesture = false;

    // Setup Leap loop with frame callback function
    var controllerOptions = {enableGestures: true};
    function togglePause() {
      paused = !paused;

      if (paused) {
        document.getElementById("pause").innerText = "Resume";}
    }

    var palmpositions = [];
    palmpositions['x'] = [];
    palmpositions['y'] = [];
    palmpositions['z'] = [];

    Leap.loop(controllerOptions, function(frame) {
      if (paused) {
        return; // Skip this update
      }

                var handvelX =0;
                var handvelY =0;
                var handvelZ =0;

                var handvelString = "";
                if (frame.hands.length > 0) {
                for (var i = 0; i < frame.hands.length; i++) {
                    var hand = frame.hands[i];
                    handvelY += hand.palmVelocity[1];  
                    handvelX += hand.palmVelocity[0]; //USE THIS FOR FORWARD / BACKWARD
                    handvelZ += hand.palmVelocity[2];//USE THIS FOR IF STATEMENT
                    

                    //handvelString += "Palm velocity: " + vectorToString(hand.palmVelocity) + " mm/s";
                    //document.getElementById("pause").innerText = ("velocity (X) : "+ handvelY);
                    }
                    if(handvelZ>1) ;//then pause
                    if(handvelZ<-1); //then play
                    if(handvelY>1) ;//then rewind/ back
                    if(handvelY<-1); //then next
                    //and we can use X later for volume control (lets keep at maybe for now)
                       
                }
  }); 

    var ctl = new Leap.Controller({enableGestures: true});
        var swiper = ctl.gesture('swipe');
    
    /*    swiper.update(function(g) {
        document.getElementById("pause").innerText=("swiped that shizzle");
    });
    */


    </script>
  </head>
  <body>
    <h1>Leap JavaScript Sample</h1>
    <div id="main">
    <button id="pause" onclick="togglePause()">Pause</button>
    <div id="svgcontainer"></svg>         
    </div>
  </body>
</html>
